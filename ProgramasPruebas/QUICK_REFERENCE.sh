#!/bin/bash
# Quick Reference - HybridSecScan Testing

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘      HYBRIDSCAN - QUICK REFERENCE FOR TESTING                 â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# Function to print section
print_section() {
    echo ""
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
    echo "  $1"
    echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
}

print_section "1ï¸âƒ£  QUICK START"
echo ""
echo "   ğŸ“± Dashboard:      http://localhost:5173"
echo "   ğŸ”Œ Backend API:    http://localhost:8000"
echo "   ğŸ“š API Docs:       http://localhost:8000/docs"
echo ""

print_section "2ï¸âƒ£  SAST TESTING (Static Analysis)"
echo ""
echo "   FILE: ProgramasPruebas/vulnerable_app.py"
echo ""
echo "   STEPS:"
echo "   1. Open: http://localhost:5173"
echo "   2. Tab: SAST"
echo "   3. Upload: vulnerable_app.py"
echo "   4. Tool: Bandit"
echo "   5. Click: 'Ejecutar AuditorÃ­a'"
echo "   6. Watch: Progress bar increases 0â†’100%"
echo "   7. Result: 16 vulnerabilities detected"
echo ""

print_section "3ï¸âƒ£  DAST TESTING (Dynamic Analysis)"
echo ""
echo "   OPTION A: Remote URL (Fastest)"
echo "   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "   URL: https://juice-shop.herokuapp.com/"
echo "   Time: ~5 min"
echo ""
echo "   OPTION B: Local Docker (Better control)"
echo "   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "   Command: ./ProgramasPruebas/launch_vulnerable_apps.ps1"
echo "   Select: Option 1 (Juice Shop)"
echo "   Wait: App starts at http://localhost:3000/"
echo "   Time: ~10-15 min"
echo ""
echo "   THEN IN HYBRIDSCAN:"
echo "   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€"
echo "   1. Open: http://localhost:5173"
echo "   2. Tab: DAST"
echo "   3. Enter URL: http://localhost:3000/ (or remote)"
echo "   4. Click: 'Ejecutar AuditorÃ­a'"
echo "   5. Watch: Progress bar running"
echo "   6. Result: OWASP ZAP findings"
echo ""

print_section "4ï¸âƒ£  FILES INCLUDED"
echo ""
echo "   CODE SAMPLES:"
echo "   â€¢ vulnerable_app.py    (9 security issues)"
echo "   â€¢ vulnerable_js.js     (12 security issues)"
echo "   â€¢ vulnerable_sql.sql   (10 security issues)"
echo ""
echo "   DOCUMENTATION:"
echo "   â€¢ GUIA_PRUEBAS.md      (Full guide - Spanish)"
echo "   â€¢ README.md            (Quick reference)"
echo "   â€¢ test_urls.txt        (Test URLs collection)"
echo ""
echo "   LAUNCHERS:"
echo "   â€¢ launch_vulnerable_apps.ps1  (PowerShell - Recommended)"
echo "   â€¢ launch_vulnerable_apps.bat  (CMD - Basic)"
echo ""

print_section "5ï¸âƒ£  PROGRESS BARS"
echo ""
echo "   SAST Progress:"
echo "   â”œâ”€ Status: 'Iniciando...'"
echo "   â”œâ”€ Analysis: 'Analizando con BANDIT...'"
echo "   â””â”€ Complete: âœ… AnÃ¡lisis completado (Green, 100%)"
echo ""
echo "   DAST Progress:"
echo "   â”œâ”€ Status: 'Iniciando...'"
echo "   â”œâ”€ Analysis: 'Ejecutando escaneo dinÃ¡mico...'"
echo "   â””â”€ Complete: âœ… AnÃ¡lisis completado (Green, 100%)"
echo ""

print_section "6ï¸âƒ£  SERVICES STATUS"
echo ""
echo "   Backend:  http://127.0.0.1:8000  [âœ… RUNNING]"
echo "   Frontend: http://localhost:5173   [âœ… RUNNING]"
echo "   Database: SQLite                  [âœ… INITIALIZED]"
echo ""

print_section "7ï¸âƒ£  TROUBLESHOOTING"
echo ""
echo "   Problem: Progress bar not showing"
echo "   Solution: Refresh browser (F5), check DevTools console"
echo ""
echo "   Problem: DAST URL not responding"
echo "   Solution: Verify URL is online, try https:// instead"
echo ""
echo "   Problem: File upload fails"
echo "   Solution: Use .py file, max 10MB, check backend logs"
echo ""
echo "   Problem: Bandit not working"
echo "   Solution: Run: pip install bandit"
echo ""

print_section "8ï¸âƒ£  NEXT STEPS FOR THESIS"
echo ""
echo "   1. âœ“ Run SAST scan â†’ screenshot"
echo "   2. âœ“ Run DAST scan â†’ screenshot"
echo "   3. âœ“ Capture progress bars â†’ evidence"
echo "   4. âœ“ Record metrics â†’ Chapter 4"
echo "   5. âœ“ Compare results â†’ validation"
echo "   6. âœ“ Document findings â†’ conclusions"
echo ""

print_section "9ï¸âƒ£  IMPORTANT NOTES"
echo ""
echo "   â€¢ HMR Enabled: Changes auto-apply in browser"
echo "   â€¢ CORS Configured: Backend â†” Frontend communication"
echo "   â€¢ Database: Persists in database/hybridsecscan.db"
echo "   â€¢ Logs: Check terminal for detailed info"
echo "   â€¢ Safe: Testing on localhost only"
echo ""

print_section "ğŸ”Ÿ USEFUL LINKS"
echo ""
echo "   HybridSecScan:       ../README.md"
echo "   Full Guide:          ./GUIA_PRUEBAS.md"
echo "   Test URLs:           ./test_urls.txt"
echo "   This Reference:      ./QUICK_REFERENCE.md"
echo ""
echo "   Bandit Docs:         https://bandit.readthedocs.io/"
echo "   OWASP ZAP:           https://www.zaproxy.org/"
echo "   OWASP Top 10:        https://owasp.org/www-project-top-ten/"
echo ""

print_section "READY TO TEST!"
echo ""
echo "   Open: http://localhost:5173 and start testing! ğŸš€"
echo ""
